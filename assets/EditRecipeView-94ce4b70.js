import{d as B,n as E,g as F,j as M,i as b,q as N,c as r,a as e,w as P,l as n,v as c,F as v,r as f,o as a,b as g,t as h,p as $,f as D,_ as j}from"./index-e2f806a6.js";const l=m=>($("data-v-32cfbf88"),m=m(),D(),m),q={class:"body"},G=l(()=>e("h1",null,"Editar receta",-1)),L={class:"photo"},z=["src"],A={class:"card-body"},H=["onSubmit"],J={class:"row mb-3"},K=l(()=>e("label",{for:"name",class:"col-sm-4 col-form-label col-form-label-sm"}," Nombre ",-1)),O={class:"col-sm-8"},Q={class:"row mb-3"},W=l(()=>e("label",{for:"img",class:"col-sm-4 col-form-label col-form-label-sm"}," Foto ",-1)),X={class:"col-sm-8"},Y={class:"row mb-3"},Z=l(()=>e("label",{for:"time",class:"col-sm-4 col-form-label col-form-label-sm"}," Tiempo (minutos) ",-1)),ee={class:"col-sm-8"},se={class:"row mb-3"},oe=l(()=>e("label",{for:"servings",class:"col-sm-4 col-form-label col-form-label-sm"}," Porciones ",-1)),te={class:"col-sm-8"},le={class:"row mb-3"},ie=l(()=>e("label",{for:"price",class:"col-sm-4 col-form-label col-form-label-sm"}," Precio ",-1)),ne={class:"col-sm-8"},ce={class:"row mb-3"},re=l(()=>e("label",{for:"ingredients",class:"col-sm-4 col-form-label col-form-label-sm"}," Ingredientes ",-1)),ae={class:"col-sm-8"},de=["onClick"],me=l(()=>e("i",{class:"bi bi-trash"},null,-1)),pe=[me],ue={class:"row mb-3"},_e={class:"col-sm-10"},be=l(()=>e("i",{class:"bi bi-plus"},null,-1)),ve=[be],fe=l(()=>e("div",{class:"row mb-3"},[e("label",{for:"steps",class:"form-label col-form-label-sm"},"Pasos a seguir")],-1)),ge={class:"row mb-3"},he=["onClick"],ye=l(()=>e("i",{class:"bi bi-trash"},null,-1)),we=[ye],xe={class:"row mb-3"},ke={class:"col-sm-10"},Se=l(()=>e("i",{class:"bi bi-plus"},null,-1)),Ve=[Se],Ie={class:"row mb-3"},Re=l(()=>e("label",{for:"tags",class:"col-sm-4 col-form-label col-form-label-sm"}," Tags ",-1)),Ce={class:"col-sm-8"},Te=["onClick"],Ue={class:"row mb-3"},Be={class:"col-sm-10"},Ee=l(()=>e("i",{class:"bi bi-plus"},null,-1)),Fe=[Ee],Me=l(()=>e("button",{type:"submit",class:"btn btn-primary"},"Guardar receta!",-1)),Ne=B({__name:"EditRecipeView",setup(m){const x=E().params.id.toString(),y=F(),o=M({recipe:{id:"",name:"",img:"",ingredients:[],steps:[],price:0,time:0,servings:0,tags:[],user:""}}),p=b(""),u=b(""),_=b(""),k=()=>{const i=y.getRecipeById(x);i&&(o.recipe=i)},S=i=>{const t=o.recipe.ingredients.filter(s=>s!==i);o.recipe.ingredients=t},V=()=>{o.recipe.ingredients.push(p.value),p.value=""},I=i=>{const t=o.recipe.steps.filter(s=>s!==i);o.recipe.steps=t},R=()=>{o.recipe.steps.push(u.value),u.value=""},C=()=>{o.recipe.tags.push(_.value),_.value=""},T=i=>{const t=o.recipe.tags.filter(s=>s!==i);o.recipe.tags=t},U=()=>{y.updateRecipe(o.recipe).then(()=>{alert("Receta editada con exito")}).catch(i=>{alert("error al editar receta"),console.log("err: ",i)})};return N(()=>{k()}),(i,t)=>(a(),r("div",q,[G,e("div",L,[e("img",{src:o.recipe.img,class:"img-fluid rounded-start",alt:"..."},null,8,z)]),e("div",null,[e("div",A,[e("form",{onSubmit:P(U,["prevent"])},[e("div",J,[K,e("div",O,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>o.recipe.name=s),name:"name"},null,512),[[c,o.recipe.name]])])]),e("div",Q,[W,e("div",X,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"img","onUpdate:modelValue":t[1]||(t[1]=s=>o.recipe.img=s),name:"img"},null,512),[[c,o.recipe.img]])])]),e("div",Y,[Z,e("div",ee,[n(e("input",{type:"number",class:"form-control form-control-sm",id:"time","onUpdate:modelValue":t[2]||(t[2]=s=>o.recipe.time=s),name:"time"},null,512),[[c,o.recipe.time,void 0,{number:!0}]])])]),e("div",se,[oe,e("div",te,[n(e("input",{type:"number",class:"form-control form-control-sm",id:"servings","onUpdate:modelValue":t[3]||(t[3]=s=>o.recipe.servings=s),name:"servings"},null,512),[[c,o.recipe.servings,void 0,{number:!0}]])])]),e("div",le,[ie,e("div",ne,[n(e("input",{type:"number",class:"form-control form-control-sm",id:"price","onUpdate:modelValue":t[4]||(t[4]=s=>o.recipe.price=s),name:"price"},null,512),[[c,o.recipe.price,void 0,{number:!0}]])])]),e("div",ce,[re,e("div",ae,[e("ul",null,[(a(!0),r(v,null,f(o.recipe.ingredients,(s,d)=>(a(),r("li",{key:d},[g(h(s)+" ",1),e("button",{type:"button",class:"btn btn-primary",onClick:w=>S(s)},pe,8,de)]))),128))])])]),e("div",ue,[e("div",_e,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"servings","onUpdate:modelValue":t[5]||(t[5]=s=>p.value=s),name:"servings"},null,512),[[c,p.value]])]),e("div",{class:"col-sm-2"},[e("button",{type:"button",class:"btn btn-primary",onClick:V},ve)])]),fe,e("div",ge,[e("ol",null,[(a(!0),r(v,null,f(o.recipe.steps,(s,d)=>(a(),r("li",{key:d},[g(h(s)+" ",1),e("button",{type:"button",class:"btn btn-primary",onClick:w=>I(s)},we,8,he)]))),128))])]),e("div",xe,[e("div",ke,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"newStep","onUpdate:modelValue":t[6]||(t[6]=s=>u.value=s),name:"newStep"},null,512),[[c,u.value]])]),e("div",{class:"col-sm-2"},[e("button",{type:"button",class:"btn btn-primary",onClick:R},Ve)])]),e("div",Ie,[Re,e("div",Ce,[e("div",null,[(a(!0),r(v,null,f(o.recipe.tags,(s,d)=>(a(),r("span",{key:d,class:"badge rounded-pill bg-primary tag"},[g(h(s)+" ",1),e("button",{type:"button",class:"btn btn-tag",onClick:w=>T(s)},"x",8,Te)]))),128))])])]),e("div",Ue,[e("div",Be,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"newTag","onUpdate:modelValue":t[7]||(t[7]=s=>_.value=s),name:"newTag"},null,512),[[c,_.value]])]),e("div",{class:"col-sm-2"},[e("button",{type:"button",class:"btn btn-primary",onClick:C},Fe)])]),Me],40,H)])])]))}});const De=j(Ne,[["__scopeId","data-v-32cfbf88"]]);export{De as default};
