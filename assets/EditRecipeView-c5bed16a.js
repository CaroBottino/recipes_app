import{d as B,n as E,g as F,j as M,i as b,q as N,c as r,a as e,w as P,l as n,v as c,F as v,r as f,o as a,b as g,t as h,p as $,f as D,_ as j}from"./index-b607ecab.js";const l=m=>($("data-v-73caf0c1"),m=m(),D(),m),q={class:"body"},G=l(()=>e("h1",null,"Editar receta",-1)),L={class:"photo"},z=["src"],A={class:"card-body"},H=["onSubmit"],J={class:"row mb-3"},K=l(()=>e("label",{for:"name",class:"col-sm-4 col-form-label col-form-label-sm"}," Nombre ",-1)),O={class:"col-sm-8"},Q={class:"row mb-3"},W=l(()=>e("label",{for:"img",class:"col-sm-4 col-form-label col-form-label-sm"}," Foto (url) ",-1)),X={class:"col-sm-8"},Y={class:"row mb-3"},Z=l(()=>e("label",{for:"time",class:"col-sm-4 col-form-label col-form-label-sm"}," User ",-1)),ee={class:"col-sm-8"},se={class:"row mb-3"},oe=l(()=>e("label",{for:"time",class:"col-sm-4 col-form-label col-form-label-sm"}," Tiempo (minutos) ",-1)),te={class:"col-sm-8"},le={class:"row mb-3"},ie=l(()=>e("label",{for:"servings",class:"col-sm-4 col-form-label col-form-label-sm"}," Porciones ",-1)),ne={class:"col-sm-8"},ce={class:"row mb-3"},re=l(()=>e("label",{for:"price",class:"col-sm-4 col-form-label col-form-label-sm"}," Precio ",-1)),ae={class:"col-sm-8"},de={class:"row mb-3"},me=l(()=>e("label",{for:"ingredients",class:"col-sm-4 col-form-label col-form-label-sm"}," Ingredientes ",-1)),pe={class:"col-sm-8"},ue=["onClick"],_e=l(()=>e("i",{class:"bi bi-trash"},null,-1)),be=[_e],ve={class:"row mb-3"},fe={class:"col-sm-10"},ge=l(()=>e("i",{class:"bi bi-plus"},null,-1)),he=[ge],ye=l(()=>e("div",{class:"row mb-3"},[e("label",{for:"steps",class:"form-label col-form-label-sm"},"Pasos a seguir")],-1)),we={class:"row mb-3"},xe=["onClick"],ke=l(()=>e("i",{class:"bi bi-trash"},null,-1)),Se=[ke],Ve={class:"row mb-3"},Ie={class:"col-sm-10"},Re=l(()=>e("i",{class:"bi bi-plus"},null,-1)),Ce=[Re],Ue={class:"row mb-3"},Te=l(()=>e("label",{for:"tags",class:"col-sm-4 col-form-label col-form-label-sm"}," Tags ",-1)),Be={class:"col-sm-8"},Ee=["onClick"],Fe={class:"row mb-3"},Me={class:"col-sm-10"},Ne=l(()=>e("i",{class:"bi bi-plus"},null,-1)),Pe=[Ne],$e=l(()=>e("button",{type:"submit",class:"btn btn-primary"},"Guardar receta!",-1)),De=B({__name:"EditRecipeView",setup(m){const x=E().params.id.toString(),y=F(),o=M({recipe:{id:"",name:"",img:"",ingredients:[],steps:[],price:0,time:0,servings:0,tags:[],user:""}}),p=b(""),u=b(""),_=b(""),k=()=>{const i=y.getRecipeById(x);i&&(o.recipe=i)},S=i=>{const t=o.recipe.ingredients.filter(s=>s!==i);o.recipe.ingredients=t},V=()=>{o.recipe.ingredients.push(p.value),p.value=""},I=i=>{const t=o.recipe.steps.filter(s=>s!==i);o.recipe.steps=t},R=()=>{o.recipe.steps.push(u.value),u.value=""},C=()=>{o.recipe.tags.push(_.value),_.value=""},U=i=>{const t=o.recipe.tags.filter(s=>s!==i);o.recipe.tags=t},T=()=>{y.updateRecipe(o.recipe).then(()=>{alert("Receta editada con exito")}).catch(i=>{alert("error al editar receta"),console.log("err: ",i)})};return N(()=>{k()}),(i,t)=>(a(),r("div",q,[G,e("div",L,[e("img",{src:o.recipe.img,class:"img-fluid rounded-start",alt:"..."},null,8,z)]),e("div",null,[e("div",A,[e("form",{onSubmit:P(T,["prevent"])},[e("div",J,[K,e("div",O,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>o.recipe.name=s),name:"name"},null,512),[[c,o.recipe.name]])])]),e("div",Q,[W,e("div",X,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"img","onUpdate:modelValue":t[1]||(t[1]=s=>o.recipe.img=s),name:"img"},null,512),[[c,o.recipe.img]])])]),e("div",Y,[Z,e("div",ee,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"time","onUpdate:modelValue":t[2]||(t[2]=s=>o.recipe.user=s),name:"time"},null,512),[[c,o.recipe.user]])])]),e("div",se,[oe,e("div",te,[n(e("input",{type:"number",class:"form-control form-control-sm",id:"time","onUpdate:modelValue":t[3]||(t[3]=s=>o.recipe.time=s),name:"time"},null,512),[[c,o.recipe.time,void 0,{number:!0}]])])]),e("div",le,[ie,e("div",ne,[n(e("input",{type:"number",class:"form-control form-control-sm",id:"servings","onUpdate:modelValue":t[4]||(t[4]=s=>o.recipe.servings=s),name:"servings"},null,512),[[c,o.recipe.servings,void 0,{number:!0}]])])]),e("div",ce,[re,e("div",ae,[n(e("input",{type:"number",class:"form-control form-control-sm",id:"price","onUpdate:modelValue":t[5]||(t[5]=s=>o.recipe.price=s),name:"price"},null,512),[[c,o.recipe.price,void 0,{number:!0}]])])]),e("div",de,[me,e("div",pe,[e("ul",null,[(a(!0),r(v,null,f(o.recipe.ingredients,(s,d)=>(a(),r("li",{key:d},[g(h(s)+" ",1),e("button",{type:"button",class:"btn btn-primary",onClick:w=>S(s)},be,8,ue)]))),128))])])]),e("div",ve,[e("div",fe,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"servings","onUpdate:modelValue":t[6]||(t[6]=s=>p.value=s),name:"servings"},null,512),[[c,p.value]])]),e("div",{class:"col-sm-2"},[e("button",{type:"button",class:"btn btn-primary",onClick:V},he)])]),ye,e("div",we,[e("ol",null,[(a(!0),r(v,null,f(o.recipe.steps,(s,d)=>(a(),r("li",{key:d},[g(h(s)+" ",1),e("button",{type:"button",class:"btn btn-primary",onClick:w=>I(s)},Se,8,xe)]))),128))])]),e("div",Ve,[e("div",Ie,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"newStep","onUpdate:modelValue":t[7]||(t[7]=s=>u.value=s),name:"newStep"},null,512),[[c,u.value]])]),e("div",{class:"col-sm-2"},[e("button",{type:"button",class:"btn btn-primary",onClick:R},Ce)])]),e("div",Ue,[Te,e("div",Be,[e("div",null,[(a(!0),r(v,null,f(o.recipe.tags,(s,d)=>(a(),r("span",{key:d,class:"badge rounded-pill bg-primary tag"},[g(h(s)+" ",1),e("button",{type:"button",class:"btn btn-tag",onClick:w=>U(s)},"x",8,Ee)]))),128))])])]),e("div",Fe,[e("div",Me,[n(e("input",{type:"text",class:"form-control form-control-sm",id:"newTag","onUpdate:modelValue":t[8]||(t[8]=s=>_.value=s),name:"newTag"},null,512),[[c,_.value]])]),e("div",{class:"col-sm-2"},[e("button",{type:"button",class:"btn btn-primary",onClick:C},Pe)])]),$e],40,H)])])]))}});const Ge=j(De,[["__scopeId","data-v-73caf0c1"]]);export{Ge as default};
